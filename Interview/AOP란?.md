# AOP (Aspect-oriented programming)

- ### 관점(측면) 지향 프로그래밍이라고 한다.
- ### 횡단 관심사(cross-cutting concern)의 분리를 허용함으로써 모듈성을 증가시키는 것이 목적인 프로그래밍 패러다임이다.

<br>

# 그래서 그게 뭔가요?

### 말이 어렵지만 구조를 보면 이해 할 수 있다.

![사진출처 : https://tasddc.tistory.com/m/129](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fk.kakaocdn.net%2Fdn%2FbbuHgz%2FbtrwMGco4tA%2FQITqLytbkhKWCK1Y1GBZfk%2Fimg.png)

## ※ 사진출처 : https://tasddc.tistory.com/m/129

> ### 예를 들어 핵심 기능에 유저 서비스와 게시글 서비스가 존재한다고 가정해보자.

> ### 유저 정보를 만드는 작업과 게시글을 작성하는 과정에서 정상적으로 동작하거나 혹은 에러나 예외가 발생할 때를 대비해 로그를 찍는 코드를 작성해놓았다.

> ### 사실 이 로그를 출력하는 코드들 자체는 핵심 기능의 로직에 반드시 필요한 코드는 아닐뿐더러 굉장히 간단한 코드가 아니라고 한다면 서로 섞여 코드의 가독성을 떨어뜨리게 되고 모듈로서 응집도가 떨어지고 유지보수가 어렵게 된다.

<br>

## 그러면 어떻게 해야하느냐, 이런 상황을 만들지 않기 위해 AOP를 적용해야 하는 것이다. 앞서 예를 든 로그를 출력하는 코드 같은 경우에 사용하는 곳은 달라도 동작은 동일하다고 볼 수 있다. 공통적으로 사용하는 기능, 횡단을 하면서 재사용성이 가능한 기능들을 하나의 모듈로 묶어 사용하는 것이다.

<br>

### Nest JS에는 인터셉터(Interceptor)라는 것이 존재한다. 이 인터셉터를 이용해 횡단관심사와 비즈니스 로직을 쉽게 분리할 수 있다. 또한 데코레이터를 활용하여 AOP를 작용한다. Nest에서 AOP를 구현함에 있어 전역으로 적용되지 않고 특정 컴포넌트에만 적용할 때 데코레이터를 사용한다.